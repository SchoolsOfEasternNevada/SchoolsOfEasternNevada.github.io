<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>G.GUI — Offline Loader</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="assets/img/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #000;
      font-family: 'Orbitron', sans-serif;
      color: #fff;
      overflow: hidden;
    }

    /* ===== INFO POPUP ===== */
    .info-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(8px);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .info-box {
      width: 90%;
      max-width: 520px;
      background: #050505;
      border-radius: 26px;
      padding: 28px;
      text-align: center;
      border: 2px solid rgba(0,255,255,0.8);
      box-shadow: 0 0 40px rgba(0,255,255,0.6);
    }

    .info-title {
      font-size: 22px;
      margin-bottom: 14px;
      color: #9ffcff;
      text-shadow: 0 0 18px #00ffff;
    }

    .info-text {
      font-size: 14px;
      opacity: 0.85;
      line-height: 1.6;
      margin-bottom: 24px;
    }

    .info-btn {
      padding: 10px 28px;
      border: 2px solid #9ffcff;
      background: transparent;
      color: #9ffcff;
      font-family: 'Orbitron', sans-serif;
      cursor: pointer;
      border-radius: 10px;
      box-shadow: 0 0 15px #00ffff;
    }

    .hidden {
      display: none;
    }

    /* ===== TOP BAR ===== */
    .top {
      height: 54px;
      display: flex;
      align-items: center;
      padding: 0 16px;
      border-bottom: 1px solid #00ffff;
      gap: 12px;
    }

    input {
      flex: 1;
      background: #000;
      border: 1px solid #00ffff;
      color: #9ffcff;
      padding: 8px 12px;
      font-family: 'Orbitron', sans-serif;
      border-radius: 8px;
    }

    button {
      padding: 8px 16px;
      border-radius: 8px;
      border: 1px solid #00ffff;
      background: #000;
      color: #9ffcff;
      cursor: pointer;
      box-shadow: 0 0 12px #00ffff;
    }

    /* ===== TABS ===== */
    .tabs {
      height: 40px;
      display: flex;
      gap: 8px;
      padding: 8px;
      background: #020202;
      border-bottom: 1px solid #00ffff;
      overflow-x: auto;
    }

    .tab {
      padding: 6px 14px;
      border: 1px solid #00ffff;
      border-radius: 8px;
      cursor: pointer;
      opacity: 0.6;
      white-space: nowrap;
    }

    .tab.active {
      opacity: 1;
      box-shadow: 0 0 15px #00ffff;
    }

    /* ===== VIEWS ===== */
    .views {
      height: calc(100% - 94px);
      position: relative;
    }

    iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: none;
      display: none;
    }

    iframe.active {
      display: block;
    }
  </style>
</head>

<body>

  <!-- INFO POPUP -->
  <div class="info-overlay" id="infoPopup">
    <div class="info-box">
      <div class="info-title">Offline Game Loader</div>
      <div class="info-text">
        • Load games while online<br>
        • Keep the tab open to play offline<br>
        • Due to security issues some sites may not load<br>
      </div>
      <button class="info-btn" onclick="closeInfo()">Continue</button>
    </div>
  </div>

  <!-- TOP BAR -->
  <div class="top">
    <input id="urlInput" placeholder="Enter Game Website">
    <button onclick="openTab()">Open</button>
  </div>

  <!-- TABS -->
  <div class="tabs" id="tabs"></div>

  <!-- VIEWS -->
  <div class="views" id="views"></div>

  <script>
    function closeInfo() {
      document.getElementById('infoPopup').classList.add('hidden');
    }

    function normalizeURL(url) {
      if (!/^https?:\/\//i.test(url)) {
        return 'https://' + url;
      }
      return url;
    }

    function cleanName(url) {
      return url
        .replace(/^https?:\/\//, '')
        .replace(/^www\./, '')
        .substring(0, 5)
        .toLowerCase();
    }

    function openTab() {
      let input = document.getElementById('urlInput').value.trim();
      if (!input) return;

      const url = normalizeURL(input);
      const name = cleanName(url);

      const tab = document.createElement('div');
      tab.className = 'tab';
      tab.textContent = name;

      const iframe = document.createElement('iframe');
      iframe.src = url;

      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));

      tab.classList.add('active');
      iframe.classList.add('active');

      tab.onclick = () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));
        tab.classList.add('active');
        iframe.classList.add('active');
      };

      document.getElementById('tabs').appendChild(tab);
      document.getElementById('views').appendChild(iframe);
      document.getElementById('urlInput').value = '';
    }
  </script>

</body>
</html>
